{"ast":null,"code":"var _jsxFileName = \"/Users/shiziwizi/Documents/final-project-tekle-chronister/client/src/1_Router.js\",\n    _s = $RefreshSig$();\n\nimport { Link, BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\nimport { Login } from \"./2_Login\";\nimport { Products, UpsertProduct, ProductDetails } from \"./3_Products\";\nimport { UpsertReview } from \"./4_Reviews\";\nimport { UserAccounts, ServerLog } from \"./5_SuperUser\";\nimport { connect } from \"react-redux\";\nimport { XButton } from \"./zComponents\";\nimport { logoutFx } from \"./9.1_Actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MainRouter = connect( // Map State to Props\nstate => ({\n  role: state.auth.currentUser.role,\n  username: state.auth.currentUser.username\n}), // Map Dispatch to Props\ndispatch => ({\n  logout: () => dispatch(logoutFx())\n}))( // Main Router Component\nfunction (props) {\n  const {\n    role,\n    username,\n    logout\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(LoginStatus, {\n        username: username,\n        role: role,\n        logout: logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), role && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Product Review Application\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/products\",\n              children: \"List Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/create-product\",\n              children: \"Add Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), role === \"SuperUser\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Super User Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/users\",\n              children: \"User Accounts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/serverlog\",\n              children: \"Server Log\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this), !role && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          render: () => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Not Authorized. Please\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products/:id\",\n          exact: true,\n          component: UpsertProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products\",\n          exact: true,\n          component: Products\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/detail-product/:id\",\n          exact: true,\n          component: ProductDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/create-product\",\n          exact: true,\n          component: UpsertProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/users\",\n          exact: true,\n          component: UserAccounts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/serverlog\",\n          exact: true,\n          component: ServerLog\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products/:id/create-review\",\n          exact: true,\n          component: UpsertReview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products/:id/reviews/:id\",\n          exact: true,\n          component: UpsertReview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}); // Display Login Status at Top of Page\n//user\n//setUserInfo\n\nfunction LoginStatus({\n  role,\n  username,\n  logout\n}) {\n  _s();\n\n  const history = useHistory();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: username ? /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"Currently Logged in as '\", role + \"/\" + username, \"'\", /*#__PURE__*/_jsxDEV(XButton, {\n        title: \"Logout\",\n        onClick: () => {\n          logout();\n          history.push(\"/login\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Not Logged In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginStatus, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginStatus;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginStatus\");","map":{"version":3,"sources":["/Users/shiziwizi/Documents/final-project-tekle-chronister/client/src/1_Router.js"],"names":["Link","BrowserRouter","Route","Switch","useHistory","Login","Products","UpsertProduct","ProductDetails","UpsertReview","UserAccounts","ServerLog","connect","XButton","logoutFx","MainRouter","state","role","auth","currentUser","username","dispatch","logout","props","LoginStatus","history","push"],"mappings":";;;AAAA,SAAQA,IAAR,EAAcC,aAAd,EAA6BC,KAA7B,EAAoCC,MAApC,EAA4CC,UAA5C,QAA6D,kBAA7D;AAGA,SAAQC,KAAR,QAAoB,WAApB;AACA,SAAQC,QAAR,EAAkBC,aAAlB,EAAiCC,cAAjC,QAAsD,cAAtD;AACA,SAAQC,YAAR,QAA2B,aAA3B;AACA,SAAQC,YAAR,EAAsBC,SAAtB,QAAsC,eAAtC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,OAAR,QAAsB,eAAtB;AACA,SAAQC,QAAR,QAAuB,eAAvB;;AAEA,OAAO,MAAMC,UAAU,GAAGH,OAAO,EAE/B;AACAI,KAAK,KAAK;AACRC,EAAAA,IAAI,EAAED,KAAK,CAACE,IAAN,CAAWC,WAAX,CAAuBF,IADrB;AAERG,EAAAA,QAAQ,EAAEJ,KAAK,CAACE,IAAN,CAAWC,WAAX,CAAuBC;AAFzB,CAAL,CAH0B,EAQ/B;AACAC,QAAQ,KAAK;AACXC,EAAAA,MAAM,EAAE,MAAMD,QAAQ,CAACP,QAAQ,EAAT;AADX,CAAL,CATuB,CAAP,EAexB;AACA,UAAUS,KAAV,EAAiB;AAEf,QAAM;AAACN,IAAAA,IAAD;AAAOG,IAAAA,QAAP;AAAiBE,IAAAA;AAAjB,MAA2BC,KAAjC;AAEF,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACA,QAAC,aAAD;AAAA,8BAGE,QAAC,WAAD;AACE,QAAA,QAAQ,EAAIH,QADd;AAEE,QAAA,IAAI,EAAIH,IAFV;AAGE,QAAA,MAAM,EAAIK;AAHZ;AAAA;AAAA;AAAA;AAAA,cAHF,eAOI;AAAA;AAAA;AAAA;AAAA,cAPJ,EAUGL,IAAI,iBACH;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEA;AAAA,kCACE;AAAA,mCAAI,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,mCAAI,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,EAqBGA,IAAI,KAAK,WAAT,iBACC;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAA,kCACE;AAAA,mCAAI,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,mCAAI,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBJ,eAgCE,QAAC,MAAD;AAAA,gCAEE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,SAAS,EAAEZ;AAAhC;AAAA;AAAA;AAAA;AAAA,gBAFF,EAKG,CAACY,IAAD,iBAAS,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AACJ,UAAA,MAAM,EAAE,mBAAM;AAAA,mCACI;AAAA,mDAA2B,GAA3B,eACA,QAAC,IAAD;AAAM,gBAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADV;AAAA;AAAA;AAAA;AAAA,gBALZ,eAYE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,eAAZ;AAA4B,UAAA,KAAK,MAAjC;AAAkC,UAAA,SAAS,EAAEV;AAA7C;AAAA;AAAA;AAAA;AAAA,gBAZF,eAaE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,WAAZ;AAAwB,UAAA,KAAK,MAA7B;AAA8B,UAAA,SAAS,EAAED;AAAzC;AAAA;AAAA;AAAA;AAAA,gBAbF,eAeE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,qBAAZ;AAAkC,UAAA,KAAK,MAAvC;AAAwC,UAAA,SAAS,EAAEE;AAAnD;AAAA;AAAA;AAAA;AAAA,gBAfF,eAiBE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,iBAAZ;AAA8B,UAAA,KAAK,MAAnC;AAAoC,UAAA,SAAS,EAAED;AAA/C;AAAA;AAAA;AAAA;AAAA,gBAjBF,eAkBE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,QAAZ;AAAqB,UAAA,KAAK,MAA1B;AAA2B,UAAA,SAAS,EAAEG;AAAtC;AAAA;AAAA;AAAA;AAAA,gBAlBF,eAmBE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,YAAZ;AAAyB,UAAA,KAAK,MAA9B;AAA+B,UAAA,SAAS,EAAEC;AAA1C;AAAA;AAAA;AAAA;AAAA,gBAnBF,eAoBE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,6BAAZ;AAA0C,UAAA,KAAK,MAA/C;AAAgD,UAAA,SAAS,EAAEF;AAA3D;AAAA;AAAA;AAAA;AAAA,gBApBF,eAsBE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,2BAAZ;AAAwC,UAAA,KAAK,MAA7C;AAA8C,UAAA,SAAS,EAAEA;AAAzD;AAAA;AAAA;AAAA;AAAA,gBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAhCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,UADF;AAkEC,CAtFuB,CAAnB,C,CA0FP;AACA;AACA;;AACA,SAASe,WAAT,CAAsB;AAACP,EAAAA,IAAD;AAAOG,EAAAA,QAAP;AAAiBE,EAAAA;AAAjB,CAAtB,EAAgD;AAAA;;AAE9C,QAAMG,OAAO,GAAGrB,UAAU,EAA1B;AAEA,sBAEE;AAAA,cACGgB,QAAQ,gBACH;AAAA,6CAA6BH,IAAI,GAAG,GAAP,GAAaG,QAA1C,oBACI,QAAC,OAAD;AACE,QAAA,KAAK,EAAC,QADR;AAEE,QAAA,OAAO,EAAE,MAAK;AACZE,UAAAA,MAAM;AACNG,UAAAA,OAAO,CAACC,IAAR,CAAa,QAAb;AACD;AALH;AAAA;AAAA;AAAA;AAAA,cADJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADG,gBAUL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXN;AAAA;AAAA;AAAA;AAAA,UAFF;AAgBD;;GApBQF,W;UAESpB,U;;;KAFToB,W","sourcesContent":["import {Link, BrowserRouter, Route, Switch, useHistory} from \"react-router-dom\"\n\n\nimport {Login} from \"./2_Login\"\nimport {Products, UpsertProduct, ProductDetails} from \"./3_Products\"\nimport {UpsertReview} from \"./4_Reviews\"\nimport {UserAccounts, ServerLog} from \"./5_SuperUser\"\nimport {connect} from \"react-redux\"\nimport {XButton} from \"./zComponents\"\nimport {logoutFx} from \"./9.1_Actions\"\n\nexport const MainRouter = connect(\n\n  // Map State to Props\n  state => ({\n    role: state.auth.currentUser.role,\n    username: state.auth.currentUser.username\n  }),\n\n  // Map Dispatch to Props\n  dispatch => ({\n    logout: () => dispatch(logoutFx())\n  })\n\n)(\n\n  // Main Router Component\n  function (props) {\n\n    const {role, username, logout} = props\n\n  return (\n    <div className=\"container\">\n    <BrowserRouter>\n\n      {/* Login Status at Top of Page */}\n      <LoginStatus\n        username = {username}\n        role = {role}\n        logout = {logout}\n      /><br/>\n\n      {/* Show Navigation if User Logged In */}\n      {role &&\n        <div>\n          <h4>Product Review Application</h4>\n        <ul>\n          <li><Link to=\"/products\">List Products</Link></li>\n          <li><Link to=\"/create-product\">Add Product</Link></li>\n        </ul>\n        </div>\n      }\n\n      {/* Show Super User Dashboard */}\n      {role === \"SuperUser\" &&\n        <div>\n        <h4>Super User Dashboard</h4>\n        <ul>\n          <li><Link to=\"/users\">User Accounts</Link></li>\n          <li><Link to=\"/serverlog\">Server Log</Link></li>\n        </ul>\n        </div>\n      }\n\n      {/* Routes */}\n      <Switch>\n\n        <Route path=\"/login\" component={Login}/>\n\n        {/* Make User Login if Needed */}\n        {!role && <Route path=\"/\"\n              render={()=> (<div>\n                                <h2>Not Authorized. Please{\" \"} \n                                <Link to=\"/login\">Login</Link></h2>\n                            </div>)}\n        />}\n\n        <Route path=\"/products/:id\" exact component={UpsertProduct}/>\n        <Route path=\"/products\" exact component={Products}/>\n\n        <Route path=\"/detail-product/:id\" exact component={ProductDetails}/>\n\n        <Route path=\"/create-product\" exact component={UpsertProduct}/>\n        <Route path=\"/users\" exact component={UserAccounts}/>\n        <Route path=\"/serverlog\" exact component={ServerLog}/>\n        <Route path=\"/products/:id/create-review\" exact component={UpsertReview}/>\n                                \n        <Route path=\"/products/:id/reviews/:id\" exact component={UpsertReview}/>\n        \n\n      </Switch>\n\n    </BrowserRouter>\n    </div>\n  )\n\n\n  }\n)\n\n\n// Display Login Status at Top of Page\n//user\n//setUserInfo\nfunction LoginStatus ({role, username, logout}) {\n\n  const history = useHistory();\n\n  return (\n\n    <div>\n      {username ?\n            <h4>Currently Logged in as '{role + \"/\" + username}'\n                <XButton \n                  title=\"Logout\" \n                  onClick={()=> {\n                    logout()\n                    history.push(\"/login\")\n                  }}\n                />\n            </h4>\n        : <h4>Not Logged In</h4>}\n    </div>\n  )\n}\n\n"]},"metadata":{},"sourceType":"module"}